

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Introduction &mdash; OSE data science  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Potential outcome model" href="../potential-outcome-model/notebook.html" />
    <link rel="prev" title="Lectures" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> OSE data science
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Lectures</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#introduction">Introduction</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Causal-questions">Causal questions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Basic-setup">Basic setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exploration">Exploration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#potential-outcome-model">Potential outcome model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#causal-graphs">Causal graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#conditioning-estimators">Conditioning estimators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#matching-estimators">Matching estimators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#regression-estimators">Regression estimators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#heterogeneity-selection-and-causal-graphs">Heterogeneity, selection, and causal graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#instrumental-variables">Instrumental variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#generalized-roy-model">Generalized Roy model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#causal-explanations">Causal explanations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#repeated-observations">Repeated observations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#regression-discontinuity-design">Regression discontinuity design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#generalized-method-of-moments">Generalized method of moments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../problem-sets/index.html">Problem sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../handouts/index.html">Handouts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/index.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasets/index.html">Data sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../partners/index.html">Partners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../organization/index.html">Organization</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OSE data science</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Lectures</a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/lectures/introduction/notebook.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="admonition note">
<p>Download the notebook <a class="reference download external" download="" href="https://nbviewer.jupyter.org/github/HumanCapitalAnalysis/ose-data-science/blob/master/lecturesintroductionnotebook.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a>!
Interactive online version: <a class="reference external" href="https://mybinder.org/v2/gh/HumanCapitalAnalysis/ose-data-science/master?filepath=lecturesintroductionnotebook.ipynb"><img alt="binder" src="https://mybinder.org/badge_logo.svg" /></a></p>
</div>
<div class="section" id="Introduction">
<h1>Introduction<a class="headerlink" href="#Introduction" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>This course introduces students to basic microeconmetric methods. The objective is to learn how to make and evaluate causal claims. By the end of the course, students should to able to apply each of the methods discussed and critically evaluate research based on them.</p>
</div></blockquote>
<p>I just want to discuss some basic features of the course. We discuss the core references, the tooling for the course, student projects, and illustrate the basics of the potential outcomes model and causal graphs.</p>
<div class="section" id="Causal-questions">
<h2>Causal questions<a class="headerlink" href="#Causal-questions" title="Permalink to this headline">¶</a></h2>
<p>What is the causal effect of …</p>
<ul class="simple">
<li><p>neighborhood of residence on educational performance, deviance, and youth development</p></li>
<li><p>school vouchers on learning?</p></li>
<li><p>of charter schools on learning?</p></li>
<li><p>worker training on earnings?</p></li>
<li><p>…</p></li>
</ul>
<p>What causal question brought you here?</p>
<div class="section" id="Core-reference-Test">
<h3>Core reference Test<a class="headerlink" href="#Core-reference-Test" title="Permalink to this headline">¶</a></h3>
<p>The whole course is built on the following textbook:</p>
<ul class="simple">
<li><p>Winship, C., &amp; Morgan, S. L. (2007). <a class="reference external" href="https://www.amazon.com/Counterfactuals-Causal-Inference-Principles-Analytical/dp/1107694167/ref=dp_ob_title_bk">Counterfactuals and causal inference: Methods and principles for social research</a>. Cambridge, England: Cambridge University Press.</p></li>
</ul>
<p>This is a rather non-standard textbook in economics. However, I very much enjoy working with it as it provides a coherent conceptual framework for a host of different methods for causal analysis. It then clearly delineates the special cases that allow the application of particular methods. We will follow their lead and structure our thinking around the <strong>counterfactual approach to causal analysis</strong> and its two key ingredients <strong>potential outcome model</strong> and <strong>directed graphs</strong>.</p>
<p>It also is one of the few textbooks that includes extensive simulation studies to convey the economic assumptions required to apply certain estimation strategies.</p>
<p>It is not very technical at all, so will also need to draw on more conventional resources to fill this gap.</p>
<ul class="simple">
<li><p>Wooldridge, J. M. (2001). <a class="reference external" href="https://mitpress.mit.edu/books/econometric-analysis-cross-section-and-panel-data">Econometric analysis of cross section and panel data</a>. Cambridge, MA: The MIT Press.</p></li>
<li><p>Angrist, J. D., &amp; Pischke, J. (2009). <a class="reference external" href="https://www.amazon.com/Mostly-Harmless-Econometrics-Empiricists-Companion/dp/0691120358/ref=sr_1_1?keywords=mostly+harmless+econometrics&amp;qid=1553511192&amp;s=gateway&amp;sr=8-1">Mostly harmless econometrics: An empiricists companion</a>. Princeton, NJ: Princeton University Press.</p></li>
<li><p>Frölich, M., and Sperlich, S. (2019). <a class="reference external" href="https://www.cambridge.org/core/books/impact-evaluation/F07A859F06FF131D78DA7FC81939A6DC">Impact evaluation: Treatment effects and causal analysis</a>. Cambridge, England: Cambridge University Press.</p></li>
</ul>
<p>Focusing on the conceptual framework as much as we do in the class has its cost. We might not get to discuss all the approaches you might be particularly interested in. However, my goal is that all of you can draw on this framework later on to think about your econometric problem in a structured way. This then enables you to choose the right approach for the analysis and study it in more detail on your own.</p>
<p><img alt="9767117a099e4333ab748eac678ddd77" class="no-scaled-link" src="../../_images/fig-dunning-kruger.png" style="width: 500px;" /></p>
<p>Combining this counterfactual approach to causal analysis with sufficient domain-expertise will allow you to leave the valley of despair.</p>
</div>
<div class="section" id="Lectures">
<h3>Lectures<a class="headerlink" href="#Lectures" title="Permalink to this headline">¶</a></h3>
<p>We follow the general structure of Winship &amp; Morgan (2007).</p>
<ul class="simple">
<li><p>Counterfactuals, potential outcomes and causal graphs</p></li>
<li><p>Estimating causal effects by conditioning on observables</p>
<ul>
<li><p>regression, matching, …</p></li>
</ul>
</li>
<li><p>Estimating causal effects by other means</p>
<ul>
<li><p>instrumental variables, mechanism-based estimation, regression discontinuity design, …</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="Tooling">
<h3>Tooling<a class="headerlink" href="#Tooling" title="Permalink to this headline">¶</a></h3>
<p>We will use open-source software and some of the tools building on it extensively throughout the course.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://ose-data-science.readthedocs.io/en/latest/">Course website</a></p></li>
<li><p><a class="reference external" href="https://github.com">GitHub</a></p></li>
<li><p><a class="reference external" href="https://zulip.com">Zulip</a></p></li>
<li><p><a class="reference external" href="https://python.org">Python</a></p></li>
<li><p><a class="reference external" href="https://www.scipy.org/index.html">SciPy</a> and <a class="reference external" href="https://www.statsmodels.org/stable/index.html">statsmodels</a></p></li>
<li><p><a class="reference external" href="https://jupyterlab.readthedocs.io/en/stable/">Jupyterlan</a></p></li>
<li><p><a class="reference external" href="https://github.com/features/actions">GitHub Actions</a></p></li>
</ul>
<p>We will briefly discuss each of these components over the next week. By then end of the term, you hopefully have a good sense on how we combine all of them to produce sound empirical research. Transparency and reproducibility are a the absolute minimum of sound data science and all then can be very achieved using the kind of tools of our class.</p>
<p>Compared to other classes on the topic, we will do quite some programming in class. I think I have a good reason to do so. From my own experience in learning and teaching the material, there is nothing better to understand the potential and limitations of the approaches we discuss than to implemented them in a simulation setup where we have full control of the underlying data generating process.</p>
<p>To cite Richard Feynman: What I cannot create, I cannot understand.</p>
<p>However, it is often problematic that students have a very, very heterogeneous background regarding their prior programming experience and some feel intimidated by the need to not only learn the material we discuss in class but also catch up on the programming. To mitigate this valid concern, we started several accompanying initiatives that will get you up to speed such as additional workshop, help desks, etc. Make sure to join our Q&amp;A channels in Zulip and attend the our <a class="reference external" href="https://github.com/OpenSourceEconomics/ose-course-primer">Computing
Primer</a>.</p>
</div>
<div class="section" id="Problem-sets">
<h3>Problem sets<a class="headerlink" href="#Problem-sets" title="Permalink to this headline">¶</a></h3>
<p>Thanks to <a class="reference external" href="https://github.com/milakis">Mila Kiseleva</a>, <a class="reference external" href="https://github.com/timmens/">Tim Mensinger</a>, and <a class="reference external" href="https://github.com/segsell">Sebastian Gsell</a> we now have four problem sets available on our website.</p>
<ul class="simple">
<li><p>Potential outcome model</p></li>
<li><p>Matching</p></li>
<li><p>Regression-discontinuity design</p></li>
<li><p>Generalized Roy model</p></li>
</ul>
<p>Just as the whole course, they do not only require you to further digest the material in the course but also require you to do some programming. They are available on our course website and we will discuss them in due course.</p>
</div>
<div class="section" id="Projects">
<h3>Projects<a class="headerlink" href="#Projects" title="Permalink to this headline">¶</a></h3>
<p>Applying methods from data science and understanding their potential and limitations is only possible when bringing them to bear on one’s one research project. So we will work on student projects during the course. More details are available <a class="reference external" href="https://ose-data-science.readthedocs.io/en/latest/projects/index.html">here</a>.</p>
</div>
<div class="section" id="Data-sources">
<h3>Data sources<a class="headerlink" href="#Data-sources" title="Permalink to this headline">¶</a></h3>
<p>Throughout the course, we will use several data sets that commonly serve as teaching examples. We collected them from several textbooks and are available in a central place in our online repository <a class="reference external" href="https://github.com/OpenSourceEconomics/ose-course-data-science/tree/master/datasets">here</a>.</p>
</div>
<div class="section" id="Potential-outcome-model">
<h3>Potential outcome model<a class="headerlink" href="#Potential-outcome-model" title="Permalink to this headline">¶</a></h3>
<p>The potential outcome model serves us several purposes:</p>
<ul class="simple">
<li><p>help stipulate assumptions</p></li>
<li><p>evaluate alternative data analysis techniques</p></li>
<li><p>think carefully about process of causal exposure</p></li>
</ul>
</div>
</div>
<div class="section" id="Basic-setup">
<h2>Basic setup<a class="headerlink" href="#Basic-setup" title="Permalink to this headline">¶</a></h2>
<p>There are three simple variables:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(D\)</span>, treatment</p></li>
<li><p><span class="math notranslate nohighlight">\(Y\)</span>, observed outcome</p></li>
<li><p><span class="math notranslate nohighlight">\(Y_1\)</span>, outcome in the treatment state</p></li>
<li><p><span class="math notranslate nohighlight">\(Y_0\)</span>, outcome in the no-treatment state</p></li>
</ul>
</div>
<div class="section" id="Examples">
<h2>Examples<a class="headerlink" href="#Examples" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>economics of education</p></li>
<li><p>health economics</p></li>
<li><p>industrial organization</p></li>
<li><p><span class="math notranslate nohighlight">\(...\)</span></p></li>
</ul>
</div>
<div class="section" id="Exploration">
<h2>Exploration<a class="headerlink" href="#Exploration" title="Permalink to this headline">¶</a></h2>
<p>We will use our first dataset to illustrate the basic problems of causal analysis. We will use the original data from the article below:</p>
<ul class="simple">
<li><p>LaLonde, R. J. (1986). <a class="reference external" href="https://www.jstor.org/stable/1806062">Evaluating the econometric evaluations of training programs with experimental data</a>. <em>The American Economic Review</em>, 76(4), 604-620.</p></li>
</ul>
<p>He summarizes the basic setup as follows:</p>
<blockquote>
<div><p>The National Supported Work Demonstration (NSW) was temporary employment program desinged to help disadvantaged workers lacking basic job skills move into the labor market by giving them work experience and counseling in sheltered environment. Unlike other federally sponsored employment programs, the NSW program assigned qualified applications randomly. Those assigned to the treatment group received all the benefits of the NSW program, while those assigned to the control group were left to
fend for themselves.</p>
</div></blockquote>
<p>What is the <em>effect</em> of the program?</p>
<p>We will have a quick look at a subset of the data to illustrate the <strong>fundamental problem of evaluation</strong>, i.e. we only observe one of the potential outcomes depending on the treatment status but never both.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># We collected a host of data from two other influential textbooks.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;../../datasets/processed/dehejia_waba/nsw_lalonde.csv&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">set_names</span><span class="p">(</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>treat</th>
      <th>age</th>
      <th>education</th>
      <th>black</th>
      <th>hispanic</th>
      <th>married</th>
      <th>nodegree</th>
      <th>re75</th>
      <th>re78</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>722.000000</td>
      <td>722.000000</td>
      <td>722.000000</td>
      <td>722.000000</td>
      <td>722.000000</td>
      <td>722.000000</td>
      <td>722.000000</td>
      <td>722.000000</td>
      <td>722.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.411357</td>
      <td>24.520776</td>
      <td>10.267313</td>
      <td>0.800554</td>
      <td>0.105263</td>
      <td>0.162050</td>
      <td>0.779778</td>
      <td>3042.896575</td>
      <td>5454.635848</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.492421</td>
      <td>6.625947</td>
      <td>1.704774</td>
      <td>0.399861</td>
      <td>0.307105</td>
      <td>0.368752</td>
      <td>0.414683</td>
      <td>5066.143366</td>
      <td>6252.943422</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>17.000000</td>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>19.000000</td>
      <td>9.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.000000</td>
      <td>23.000000</td>
      <td>10.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>936.307950</td>
      <td>3951.889000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.000000</td>
      <td>27.000000</td>
      <td>11.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>3993.207000</td>
      <td>8772.004250</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.000000</td>
      <td>55.000000</td>
      <td>16.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>37431.660000</td>
      <td>60307.930000</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># It is important to check for missing values first.</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Note that this lecture, just as all other lectures, is available on <a class="reference external" href="https://mybinder.org/v2/gh/HumanCapitalAnalysis/microeconometrics/master?filepath=lectures%2F01_introduction%2Flecture.ipynb"><img alt="Binder" src="https://mybinder.org/badge_logo.svg" /></a> so you can easily continue working on it and take your exploration to another direction.</p>
<p>There are numerous discrete variables in this dataset describing the individual’s background. How does their distribution look like?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">columns_background</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;treat&quot;</span><span class="p">,</span>
    <span class="s2">&quot;age&quot;</span><span class="p">,</span>
    <span class="s2">&quot;education&quot;</span><span class="p">,</span>
    <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hispanic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;married&quot;</span><span class="p">,</span>
    <span class="s2">&quot;nodegree&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns_background</span><span class="p">:</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#1f77b4&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_21_0.png" src="../../_images/lectures_introduction_notebook_21_0.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_21_1.png" src="../../_images/lectures_introduction_notebook_21_1.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_21_2.png" src="../../_images/lectures_introduction_notebook_21_2.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_21_3.png" src="../../_images/lectures_introduction_notebook_21_3.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_21_4.png" src="../../_images/lectures_introduction_notebook_21_4.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_21_5.png" src="../../_images/lectures_introduction_notebook_21_5.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_21_6.png" src="../../_images/lectures_introduction_notebook_21_6.png" />
</div>
</div>
<p>How about the continous earnings variable?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">columns_outcome</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;re75&quot;</span><span class="p">,</span> <span class="s2">&quot;re78&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns_outcome</span><span class="p">:</span>

    <span class="n">earnings</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>

    <span class="c1"># We drop all earnings at zero.</span>
    <span class="n">earnings</span> <span class="o">=</span> <span class="n">earnings</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">earnings</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">earnings</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_23_0.png" src="../../_images/lectures_introduction_notebook_23_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_23_1.png" src="../../_images/lectures_introduction_notebook_23_1.png" />
</div>
</div>
<p>We work under the assumption that the data is generated by an experiment. Let’s make sure by checking the distribution of the background variables by treatment status.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="s2">&quot;std&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns_background</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">column</span><span class="o">.</span><span class="n">capitalize</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;treat&quot;</span><span class="p">)[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()[</span><span class="n">info</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>


 Treat
       count  mean  std
treat
0      425.0   0.0  0.0
1      297.0   1.0  0.0


 Age
       count       mean       std
treat
0      425.0  24.447059  6.590276
1      297.0  24.626263  6.686391


 Education
       count       mean       std
treat
0      425.0  10.188235  1.618686
1      297.0  10.380471  1.817712


 Black
       count      mean       std
treat
0      425.0  0.800000  0.400471
1      297.0  0.801347  0.399660


 Hispanic
       count      mean       std
treat
0      425.0  0.112941  0.316894
1      297.0  0.094276  0.292706


 Married
       count      mean       std
treat
0      425.0  0.157647  0.364839
1      297.0  0.168350  0.374808


 Nodegree
       count      mean       std
treat
0      425.0  0.814118  0.389470
1      297.0  0.730640  0.444376
</pre></div></div>
</div>
<p>What is the data that corresponds to <span class="math notranslate nohighlight">\((Y, Y_1, Y_0, D)\)</span>?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># We first create True / False</span>
<span class="n">is_treated</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;treat&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>

<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;re78&quot;</span><span class="p">]</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Y_0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">is_treated</span><span class="p">,</span> <span class="s2">&quot;re78&quot;</span><span class="p">]</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Y_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">is_treated</span><span class="p">,</span> <span class="s2">&quot;re78&quot;</span><span class="p">]</span>

<span class="n">df</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">is_treated</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">is_treated</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">df</span><span class="p">[[</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Y_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Y_0&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Y</th>
      <th>Y_1</th>
      <th>Y_0</th>
      <th>D</th>
    </tr>
    <tr>
      <th>Individual</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>479</th>
      <td>6930.336</td>
      <td>NaN</td>
      <td>6930.336</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>94</th>
      <td>3881.284</td>
      <td>3881.284</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>146</th>
      <td>3075.862</td>
      <td>3075.862</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>407</th>
      <td>20893.110</td>
      <td>NaN</td>
      <td>20893.110</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>269</th>
      <td>12590.710</td>
      <td>12590.710</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2164.022</td>
      <td>2164.022</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>592</th>
      <td>0.000</td>
      <td>NaN</td>
      <td>0.000</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>260</th>
      <td>0.000</td>
      <td>0.000</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>421</th>
      <td>3931.238</td>
      <td>NaN</td>
      <td>3931.238</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>35</th>
      <td>0.000</td>
      <td>0.000</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Let us get a basic impression on how the distribution of earnings looks like by treatment status.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">)[</span><span class="s2">&quot;re78&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>D</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>425.0</td>
      <td>5090.048302</td>
      <td>5718.088763</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>3746.701</td>
      <td>8329.823</td>
      <td>39483.53</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>297.0</td>
      <td>5976.352033</td>
      <td>6923.796427</td>
      <td>0.0</td>
      <td>549.2984</td>
      <td>4232.309</td>
      <td>9381.295</td>
      <td>60307.93</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">is_treated</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;untreated&quot;</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">is_treated</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;treated&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.legend.Legend at 0x7fec7859b0d0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_introduction_notebook_30_1.png" src="../../_images/lectures_introduction_notebook_30_1.png" />
</div>
</div>
<p>We are now ready to reproduce one of the key findings from this article. What is the difference in earnings in 1978 between those that did participate in the program and those that did not?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">stat</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">is_treated</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">is_treated</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;886.30&#39;
</pre></div></div>
</div>
<p>Earnings are $886.30 higher among those that participate in the treatment compared to those that do not. Can we say even more?</p>
<p><strong>References</strong></p>
<p>Here are some further references for the potential outcome model.</p>
<ul class="simple">
<li><p>Heckman, J. J., and Vytlacil, E. J. (2007a). <a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S1573441207060709">Econometric evaluation of social programs, part I: Causal effects, structural models and econometric policy evaluation</a>. In J. J. Heckman, and E. E. Leamer (Eds.), <em>Handbook of Econometrics</em> (Vol. 6B, pp. 4779–4874). Amsterdam, Netherlands: Elsevier Science.</p></li>
<li><p>Imbens G. W., and Rubin D. B. (2015). <a class="reference external" href="https://www.cambridge.org/core/books/causal-inference-for-statistics-social-and-biomedical-sciences/71126BE90C58F1A431FE9B2DD07938AB">Causal inference for statistics, social, and biomedical sciences: An introduction</a>. Cambridge, England: Cambridge University Press.</p></li>
<li><p>Rosenbaum, P. R. (2017). <a class="reference external" href="https://www.hup.harvard.edu/catalog.php?isbn=9780674975576">Observation and experiment: An introduction to causal inference</a>. Cambridge, MA: Harvard University Press.</p></li>
</ul>
<div class="section" id="Causal-graphs">
<h3>Causal graphs<a class="headerlink" href="#Causal-graphs" title="Permalink to this headline">¶</a></h3>
<p>One unique feature of our core textbook is the heavy use of causal graphs to investigate and assess the validity of different estimation strategies. There are three general strategies to estimate causal effects and their applicability depends on the exact structure of the causal graph.</p>
<ul class="simple">
<li><p>condition on variables, i.e. matching and regression-based estimation</p></li>
<li><p>exogenous variation, i.e. instrumental variables estimation</p></li>
<li><p>establish an exhaustive and isolated mechanism, i.e. structural estimation</p></li>
</ul>
<p>Here are some examples of what to expect.</p>
<p><img alt="4f53ab8261374f2eb7404500c2db50c6" class="no-scaled-link" src="../../_images/fig-causal-graph-1.png" style="width: 500px;" /></p>
<p><img alt="c7cba559fa0b487abe688c2b021e6147" class="no-scaled-link" src="../../_images/fig-causal-graph-2.png" style="width: 500px;" /></p>
<p><img alt="7f8b05eb340742219e123672dc82ca63" class="no-scaled-link" src="../../_images/fig-causal-graph-3.png" style="width: 500px;" /></p>
<p>The key message for now:</p>
<ul class="simple">
<li><p>There is often more than one way to estimate a causal effect with differing demands about knowledge and observability</p></li>
</ul>
<p>Pearl (2009) is the seminal reference on the use of graphs to represent general causal representations.</p>
<p><strong>References</strong></p>
<ul class="simple">
<li><p><strong>Pearl, J. (2014)</strong>. <a class="reference external" href="https://www.cambridge.org/core/books/causality/B0046844FAE10CBF274D4ACBDAEB5F5B">Causality</a>. Cambridge, England: Cambridge University Press.</p></li>
<li><p><strong>Pearl, J., and Mackenzie, D. (2018)</strong>. <a class="reference external" href="https://www.basicbooks.com/titles/judea-pearl/the-book-of-why/9780465097609/">The book of why: The new science of cause and effect</a>. New York, NY: <em>Basic Books</em>.</p></li>
<li><p><strong>Pearl J., Glymour M., and Jewell N. P. (2016)</strong>. <a class="reference external" href="https://www.wiley.com/en-us/Causal+Inference+in+Statistics%3A+A+Primer-p-9781119186847">Causal inference in statistics: A primer</a>. Chichester, UK: <em>Wiley</em>.</p></li>
</ul>
</div>
<div class="section" id="Resources">
<h3>Resources<a class="headerlink" href="#Resources" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><strong>LaLonde, R. J. (1986)</strong>. <a class="reference external" href="https://www.jstor.org/stable/1806062">Evaluating the econometric evaluations of training programs with experimental data</a>. <em>The American Economic Review</em>, 76(4), 604-620.</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../potential-outcome-model/notebook.html" class="btn btn-neutral float-right" title="Potential outcome model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../index.html" class="btn btn-neutral float-left" title="Lectures" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Prof. Dr. Philipp Eisenhauer.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>